{
    "name": "bnf/slim-typo3",
    "type": "typo3-cms-extension",
    "description": "Slim framework integration for TYPO3",
    "keywords": [
        "TYPO3",
        "extension"
    ],
    "authors": [
        {
            "name": "Benjamin Franzke",
            "email": "benjaminfranzke@gmail.com",
            "role": "Developer",
            "homepage": "https://bnfr.net"
        }
    ],
    "license": "GPL-2.0+",
    "require": {
        "typo3/cms-core": "^8.7 || ^9.0",
        "slim/slim": "^3.0"
    },
    "autoload": {
        "psr-4": {
            "Bnf\\SlimTypo3\\": "Classes"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "Bnf\\SlimTypo3\\Tests\\": "Tests"
        }
    },
    "replace": {
        "slim_typo3": "self.version",
        "typo3-ter/slim_typo3": "self.version"
    },
    "require-dev": {
        "typo3/cms": "^8.7",
        "typo3/testing-framework": "^1.0",
        "satooshi/php-coveralls": "~1.0"
    },
    "config": {
        "vendor-dir": ".build/vendor"
    },
    "extra": {
        "typo3/cms": {
            "cms-package-dir": "{$vendor-dir}/typo3/cms",
            "web-dir": ".build/web"
        },
        "branch-alias": {
            "dev-master": "0.1.x-dev"
        }
    },
    "scripts": {
        "post-autoload-dump": [
            "mkdir -p .build/web/typo3conf/ext/",
            "[ -L .build/web/typo3conf/ext/slim_typo3 ] || ln -snvf ../../../../. .build/web/typo3conf/ext/slim_typo3"
        ],
        "build-t3x-extension": [
            "rm -rf Resources/Private/PHP && mkdir -p Resources/Private/PHP",
            "cd Resources/Private/PHP && composer init --require slim/slim:^3.0 -n && composer config vendor-dir . && composer install --no-dev --no-autoloader --ansi && rm -rf composer.json composer.lock composer/",
            "rm -rf Resources/Private/PHP/psr/http-message/",
            "rm -rf Resources/Private/PHP/pimple/pimple/ext/",
            "find Resources/Private/PHP/ -type d \\( -name Tests -o -name test -o -name tests -o -name docs \\) -exec rm -rf '{}' +",
            "find Resources/Private/PHP/ -type f \\( -name README.md -o -name README.rst -o -name CHANGELOG -o -name composer.json -o -name phpunit.xml.dist -o -name .gitignore -o -name .travis.yml \\) -exec rm -f '{}' +",
            "rm -f \"${PWD##*/}_`git describe --tags`.zip\"",
            "sh -c 'git archive -o \"${PWD##*/}_`git describe --tags`.zip\" HEAD'",
            "sh -c 'zip -r -g \"${PWD##*/}_`git describe --tags`.zip\" Resources/Private/PHP/'",
            "rm -rf Resources/Private/PHP"
        ]
    }
}
